!function(t){t.fn.extend({monthly:function(e){e=t.extend({weekStart:"Sun",mode:"",xmlUrl:"",target:"",eventList:!0,maxWidth:!1,setWidth:!1,startHidden:!1,showTrigger:"",stylePast:!1,disablePast:!1},e);var a=t(this).attr("id"),n=new Date,d=n.getMonth()+1,i=n.getFullYear(),l=n.getDate(),s=e.monthNames||["January","February","March","April","May","June","July","August","September","October","November","December"],o=e.dayNames||["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function r(n,r){t("#"+a).data("setMonth",n).data("setYear",r);var v=function(t,e){return 2===t?3&e||!(e%25)&&15&e?28:29:30+(t+(t>>3)&1)}(n,r),m=n-1,h=new Date(r,m,1,0,0,0,0).getDay();if(t("#"+a+" .monthly-day, #"+a+" .monthly-day-blank").remove(),t("#"+a+" .monthly-event-list").empty(),t("#"+a+" .monthly-day-wrap").empty(),"event"==e.mode)for(var y=0;y<v;y++){var c=y+1,p=new Date(r,m,c,0,0,0,0).getDay();t("#"+a+" .monthly-day-wrap").append('<a href="#" class="m-d monthly-day monthly-day-event" data-number="'+c+'"><div class="monthly-day-number">'+c+'</div><div class="monthly-indicator-wrap"></div></a>'),t("#"+a+" .monthly-event-list").append('<div class="monthly-list-item" id="'+a+"day"+c+'" data-number="'+c+'"><div class="monthly-event-list-date">'+o[p]+"<br>"+c+"</div></div>")}else for(y=0;y<v;y++){((c=y+1)<l&&n===d||r<i||n<d&&r==i)&&1==e.stylePast?t("#"+a+" .monthly-day-wrap").append('<a href="#" data-bs-toggle="modal" data-target="#schedule-box" class="m-d monthly-day monthly-day-pick monthly-past-day" data-number="'+c+'"><div class="monthly-day-number">'+c+'</div><div class="monthly-indicator-wrap"></div></a>'):t("#"+a+" .monthly-day-wrap").append('<a href="#" data-bs-toggle="modal" data-target="#schedule-box" class="m-d monthly-day monthly-day-pick" data-number="'+c+'"><div class="monthly-day-number">'+c+'</div><div class="monthly-indicator-wrap"></div></a>')}var u=t("#"+a).data("setMonth"),f=t("#"+a).data("setYear");if(u==d&&f==i&&t("#"+a+' *[data-number="'+l+'"]').addClass("monthly-today"),u==d&&f==i?t("#"+a+" .monthly-header-title").html(s[n-1]+" "+r):t("#"+a+" .monthly-header-title").html(s[n-1]+" "+r+'<a href="#" class="monthly-reset" title="Back To This Month"></a> '),"Sun"==e.weekStart&&7!=h)for(y=0;y<h;y++)t("#"+a+" .monthly-day-wrap").prepend('<div class="m-d monthly-day-blank"><div class="monthly-day-number"></div></div>');else if("Mon"==e.weekStart&&0==h)for(y=0;y<6;y++)t("#"+a+" .monthly-day-wrap").prepend('<div class="m-d monthly-day-blank" ><div class="monthly-day-number"></div></div>');else if("Mon"==e.weekStart&&1!=h)for(y=0;y<h-1;y++)t("#"+a+" .monthly-day-wrap").prepend('<div class="m-d monthly-day-blank" ><div class="monthly-day-number"></div></div>');var b=t("#"+a+" .monthly-day").length+t("#"+a+" .monthly-day-blank").length,w=7*Math.ceil(b/7)-b;if(b%7!=0)for(y=0;y<w;y++)t("#"+a+" .monthly-day-wrap").append('<div class="m-d monthly-day-blank"><div class="monthly-day-number"></div></div>');"event"==e.mode&&t.get(""+e.xmlUrl,function(e){t(e).find("event").each(function(){var e=t(this).find("startdate").text().split("-"),n=e[0],d=parseInt(e[1],10),i=parseInt(e[2],10),l=t(this).find("enddate").text(),s=l.split("-"),o=s[0],r=parseInt(s[1],10),m=parseInt(s[2],10),h=t(this).find("url").text(),y=t(this).find("name").text(),c=t(this).find("color").text(),p=t(this).find("id").text(),b=(w=t(this).find("starttime").text()).split(":");if(g=t(this).find("endtime").text(),endSplit=g.split(":"),"",k="AM",x="PM",parseInt(b[0])>=12)var w=b[0]-12+":"+b[1],k="PM";if(0==parseInt(w))w="12:"+b[1];if(parseInt(endSplit[0])>=12)var g=endSplit[0]-12+":"+endSplit[1],x="PM";if(0==parseInt(g))g="12:"+endSplit[1];if(h);function M(){var e="";if(w){var n="";if(g)n='<div class="monthly-list-time-end">'+g+" "+x+"</div>";e='<div><div class="monthly-list-time-start">'+w+" "+k+"</div>"+n+"</div>"}t("#"+a+' .monthly-list-item[data-number="'+S+'"]').addClass("item-has-event").append('<a href="'+h+'" class="listed-event"  data-eventid="'+p+'" style="background:'+c+'" title="'+y+'">'+y+" "+e+"</a>")}if(l||d!=u||n!=f){if(d==u&&n==f&&r==u&&o==f)for(var S=parseInt(i);S<=parseInt(m);S++)S==parseInt(i)?t("#"+a+' *[data-number="'+S+'"] .monthly-indicator-wrap').append('<div class="monthly-event-indicator" data-eventid="'+p+'" style="background:'+c+'" title="'+y+'">'+y+"</div>"):t("#"+a+' *[data-number="'+S+'"] .monthly-indicator-wrap').append('<div class="monthly-event-indicator" data-eventid="'+p+'" style="background:'+c+'" title="'+y+'"></div>'),M();else if(r==u&&o==f&&(d<u&&n==f||n<f))for(S=0;S<=parseInt(m);S++)1==S?t("#"+a+' *[data-number="'+S+'"] .monthly-indicator-wrap').append('<div class="monthly-event-indicator" data-eventid="'+p+'" style="background:'+c+'" title="'+y+'">'+y+"</div>"):t("#"+a+' *[data-number="'+S+'"] .monthly-indicator-wrap').append('<div class="monthly-event-indicator" data-eventid="'+p+'" style="background:'+c+'" title="'+y+'"></div>'),M();else if(d==u&&n==f&&(r>u&&o==f||o>f))for(S=parseInt(i);S<=v;S++)S==parseInt(i)?t("#"+a+' *[data-number="'+S+'"] .monthly-indicator-wrap').append('<div class="monthly-event-indicator" data-eventid="'+p+'" style="background:'+c+'" title="'+y+'">'+y+"</div>"):t("#"+a+' *[data-number="'+S+'"] .monthly-indicator-wrap').append('<div class="monthly-event-indicator" data-eventid="'+p+'" style="background:'+c+'" title="'+y+'"></div>'),M();else if((d<u&&n==f||n<f)&&(r>u&&o==f||o>f))for(S=0;S<=v;S++)1==S?t("#"+a+' *[data-number="'+S+'"] .monthly-indicator-wrap').append('<div class="monthly-event-indicator" data-eventid="'+p+'" style="background:'+c+'" title="'+y+'">'+y+"</div>"):t("#"+a+' *[data-number="'+S+'"] .monthly-indicator-wrap').append('<div class="monthly-event-indicator" data-eventid="'+p+'" style="background:'+c+'" title="'+y+'"></div>'),M()}else{t("#"+a+' *[data-number="'+i+'"] .monthly-indicator-wrap').append('<div class="monthly-event-indicator"  data-eventid="'+p+'" style="background:'+c+'" title="'+y+'">'+y+"</div>");var D="";if(w){var I="";if(g)I='<div class="monthly-list-time-end">'+g+" "+x+"</div>";D='<div><div class="monthly-list-time-start">'+w+" "+k+"</div>"+I+"</div>"}t("#"+a+' .monthly-list-item[data-number="'+i+'"]').addClass("item-has-event").append('<a href="'+h+'" class="listed-event"  data-eventid="'+p+'" style="background:'+c+'" title="'+y+'">'+y+" "+D+"</a>")}})}).fail(function(){console.error("Monthly.js failed to import "+e.xmlUrl+". Please check for the correct path & XML syntax.")});var k=t("#"+a+" .m-d");for(y=0;y<k.length;y+=7)k.slice(y,y+7).wrapAll("<div class='monthly-week'></div>")}function v(){t("#"+a+" .monthly-event-list").is(":visible")&&(t("#"+a+" .monthly-cal").remove(),t("#"+a+" .monthly-header-title").prepend('<a href="#" class="monthly-cal" title="Back To Month View"><div></div></a>'))}0!=e.maxWidth&&t("#"+a).css("maxWidth",e.maxWidth),0!=e.setWidth&&t("#"+a).css("width",e.setWidth),1==e.startHidden&&(t("#"+a).addClass("monthly-pop").css({position:"absolute",display:"none"}),t(document).on("focus",""+e.showTrigger,function(e){t("#"+a).show(),e.preventDefault()}),t(document).on("click",e.showTrigger+", .monthly-pop",function(t){t.stopPropagation(),t.preventDefault()}),t(document).on("click",function(e){t("#"+a).hide()})),"Sun"==e.weekStart?t("#"+a).append('<div class="monthly-day-title-wrap"><div>'+o[0]+"</div><div>"+o[1]+"</div><div>"+o[2]+"</div><div>"+o[3]+"</div><div>"+o[4]+"</div><div>"+o[5]+"</div><div>"+o[6]+'</div></div><div class="monthly-day-wrap"></div>'):"Mon"==e.weekStart?t("#"+a).append('<div class="monthly-day-title-wrap"><div>'+o[1]+"</div><div>"+o[2]+"</div><div>"+o[3]+"</div><div>"+o[4]+"</div><div>"+o[5]+"</div><div>"+o[6]+"</div><div>"+o[0]+'</div></div><div class="monthly-day-wrap"></div>'):console.error("Monthly.js has an incorrect entry for the weekStart variable"),t("#"+a).prepend('<div class="monthly-header"><div class="monthly-header-title"></div><a href="#" class="monthly-prev"></a><a href="#" class="monthly-next"></a></div>').append('<div class="monthly-event-list"></div>'),r(d,i),t(document.body).on("click","#"+a+" .monthly-next",function(e){var n=t("#"+a).data("setMonth"),d=t("#"+a).data("setYear");12==n?r(1,d+1):r(n+1,d);v(),e.preventDefault()}),t(document.body).on("click","#"+a+" .monthly-prev",function(e){var n=t("#"+a).data("setMonth"),d=t("#"+a).data("setYear");1==n?r(12,d-1):r(n-1,d);v(),e.preventDefault()}),t(document.body).on("click","#"+a+" .monthly-reset",function(t){r(d,i),v(),t.preventDefault(),t.stopPropagation()}),t(document.body).on("click","#"+a+" .monthly-cal",function(e){t(this).remove(),t("#"+a+" .monthly-event-list").css("transform","scale(0)").delay("800").hide(),e.preventDefault()}),t(document.body).on("click","#"+a+" a.monthly-day",function(n){if("event"==e.mode&&1==e.eventList){var d=t(this).data("number");t("#"+a+" .monthly-event-list").show(),t("#"+a+" .monthly-event-list").css("transform"),t("#"+a+" .monthly-event-list").css("transform","scale(1)"),t("#"+a+' .monthly-list-item[data-number="'+d+'"]').show();var i=document.getElementById(a+"day"+d).offsetTop;t("#"+a+" .monthly-event-list").scrollTop(i),v()}else if("picker"==e.mode){d=t(this).data("number");var l=t("#"+a).data("setMonth"),s=t("#"+a).data("setYear");t(this).hasClass("monthly-past-day")&&1==e.disablePast?n.preventDefault():(t(""+e.target).val(l+"/"+d+"/"+s),1==e.startHidden&&t("#"+a).hide())}n.preventDefault()}),t(document.body).on("click","#"+a+" .listed-event",function(e){t(this).attr("href")||e.preventDefault()})}})}(jQuery);